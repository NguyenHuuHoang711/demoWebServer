{"level":"error","message":"All fields are required","timestamp":"2025-06-20T01:22:44.704Z"}
{"level":"error","message":"All fields are required","timestamp":"2025-06-20T01:23:07.095Z"}
{"level":"error","message":"All fields are required","timestamp":"2025-06-20T01:24:41.565Z"}
{"level":"error","message":"All fields are required","timestamp":"2025-06-20T01:26:42.702Z"}
{"level":"error","message":"Error creating event: Events validation failed: startDate: Cast to date failed for value \"20-7-2025\" (type string) at path \"startDate\", endDate: Cast to date failed for value \"30-7-2025\" (type string) at path \"endDate\"","timestamp":"2025-06-20T01:27:46.285Z"}
{"level":"error","message":"Error retrieving orders: Cannot read properties of undefined (reading 'role')","timestamp":"2025-06-20T01:47:24.949Z"}
{"level":"error","message":"Error retrieving orders: Cannot read properties of undefined (reading 'role')","timestamp":"2025-06-20T01:47:38.687Z"}
{"level":"error","message":"Error retrieving orders: Cannot read properties of undefined (reading 'role')","timestamp":"2025-06-20T01:48:39.243Z"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'role')\n    at D:\\WebDoLuuNiem\\backend\\src\\middlewares\\authRoles.js:3:38\n    at Layer.handleRequest (D:\\WebDoLuuNiem\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\WebDoLuuNiem\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\WebDoLuuNiem\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\WebDoLuuNiem\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\WebDoLuuNiem\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\WebDoLuuNiem\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (D:\\WebDoLuuNiem\\backend\\node_modules\\router\\index.js:582:12)\n    at next (D:\\WebDoLuuNiem\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (D:\\WebDoLuuNiem\\backend\\node_modules\\router\\index.js:186:3)","timestamp":"2025-06-20T01:49:47.742Z"}
{"level":"error","message":"Error retrieving orders: Cannot read properties of undefined (reading 'role')","timestamp":"2025-06-20T01:50:04.717Z"}
{"level":"error","message":"Error retrieving orders: Cannot populate path `products.product` because it is not in your schema. Set the `strictPopulate` option to false to override.","timestamp":"2025-06-20T01:51:02.405Z"}
{"level":"error","message":"Error retrieving orders: Cannot populate path `product_id.product` because it is not in your schema. Set the `strictPopulate` option to false to override.","timestamp":"2025-06-20T01:51:57.384Z"}
{"level":"error","message":"Error retrieving orders: Cannot populate path `product_id.product` because it is not in your schema. Set the `strictPopulate` option to false to override.","timestamp":"2025-06-20T01:52:14.013Z"}
{"level":"error","message":"Error retrieving orders: Cannot populate path `product_id.product` because it is not in your schema. Set the `strictPopulate` option to false to override.","timestamp":"2025-06-20T01:52:18.873Z"}
{"level":"error","message":"Error retrieving orders: OrderDetail is not defined","timestamp":"2025-06-20T01:55:29.057Z"}
{"level":"error","message":"Error using coupon: order is not defined","timestamp":"2025-06-20T01:57:07.645Z"}
{"level":"error","message":"Error using coupon: order is not defined","timestamp":"2025-06-20T01:58:01.006Z"}
{"level":"error","message":"Error using coupon: order is not defined","timestamp":"2025-06-20T01:59:30.022Z"}
{"level":"error","message":"Error using coupon: order is not defined","timestamp":"2025-06-20T01:59:59.553Z"}
{"level":"error","message":"Error using coupon: order is not defined","timestamp":"2025-06-20T02:00:02.014Z"}
{"level":"error","message":"Error using coupon: order is not defined","timestamp":"2025-06-20T02:00:26.247Z"}
{"level":"error","message":"Error using coupon: Console.log is not a function","timestamp":"2025-06-20T02:27:45.020Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'id')","timestamp":"2025-06-20T02:29:42.248Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading '_id')","timestamp":"2025-06-20T02:29:56.663Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'id')","timestamp":"2025-06-20T02:31:20.792Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'code')","timestamp":"2025-06-20T02:32:22.826Z"}
{"level":"error","message":"Error using coupon: Schema hasn't been registered for model \"Orders\".\nUse mongoose.model(name, schema)","timestamp":"2025-06-20T02:35:24.619Z"}
{"level":"error","message":"Error using coupon: Schema hasn't been registered for model \"Orders\".\nUse mongoose.model(name, schema)","timestamp":"2025-06-20T02:38:41.268Z"}
{"level":"error","message":"Error using coupon: Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Order\"","timestamp":"2025-06-20T02:39:18.759Z"}
{"level":"error","message":"Error using coupon: Cast to ObjectId failed for value \"{ id: undefined }\" (type Object) at path \"_id\" for model \"Order\"","timestamp":"2025-06-20T02:39:30.777Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of null (reading '_id')","timestamp":"2025-06-20T02:40:00.121Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of null (reading '_id')","timestamp":"2025-06-20T02:40:15.534Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'id')","timestamp":"2025-06-20T02:41:35.392Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading '_id')","timestamp":"2025-06-20T02:44:28.999Z"}
{"level":"error","message":"Error using coupon: Order validation failed: user: Cast to ObjectId failed for value \"USER_ID_SAMPLE\" (type string) at path \"user\" because of \"BSONError\", shipping.shipper: Cast to ObjectId failed for value \"683c321031386e28d0e4e865\\n\" (type string) at path \"shipping.shipper\" because of \"BSONError\"","timestamp":"2025-06-20T02:46:10.563Z"}
{"level":"error","message":"Error using coupon: Order validation failed: user: Cast to ObjectId failed for value \"USER_ID_SAMPLE\" (type string) at path \"user\" because of \"BSONError\", shipping.shipper: Cast to ObjectId failed for value \"683c321031386e28d0e4e865\\n\" (type string) at path \"shipping.shipper\" because of \"BSONError\"","timestamp":"2025-06-20T02:47:01.302Z"}
{"level":"error","message":"Error using coupon: order.coupon.onlypush is not a function","timestamp":"2025-06-20T02:48:15.338Z"}
{"level":"error","message":"Error using coupon: order.OnlyUpdateOne is not a function","timestamp":"2025-06-20T02:48:54.220Z"}
{"level":"error","message":"Error using coupon: order.OnlyUpdate is not a function","timestamp":"2025-06-20T02:49:06.572Z"}
{"level":"error","message":"Error using coupon: Order validation failed: user: Cast to ObjectId failed for value \"USER_ID_SAMPLE\" (type string) at path \"user\" because of \"BSONError\", shipping.shipper: Cast to ObjectId failed for value \"683c321031386e28d0e4e865\\n\" (type string) at path \"shipping.shipper\" because of \"BSONError\"","timestamp":"2025-06-20T02:49:22.950Z"}
{"level":"error","message":"Error using coupon: Order validation failed: user: Cast to ObjectId failed for value \"USER_ID_SAMPLE\" (type string) at path \"user\" because of \"BSONError\", shipping.shipper: Cast to ObjectId failed for value \"683c321031386e28d0e4e865\\n\" (type string) at path \"shipping.shipper\" because of \"BSONError\"","timestamp":"2025-06-20T02:50:02.983Z"}
{"level":"error","message":"Error using coupon: Order validation failed: user: Cast to ObjectId failed for value \"USER_ID_SAMPLE\" (type string) at path \"user\" because of \"BSONError\", shipping.shipper: Cast to ObjectId failed for value \"683c321031386e28d0e4e865\\n\" (type string) at path \"shipping.shipper\" because of \"BSONError\"","timestamp":"2025-06-20T02:54:18.021Z"}
{"level":"error","message":"Error using coupon: Order validation failed: user: Cast to ObjectId failed for value \"USER_ID_SAMPLE\" (type string) at path \"user\" because of \"BSONError\", shipping.shipper: Cast to ObjectId failed for value \"683c321031386e28d0e4e865\\n\" (type string) at path \"shipping.shipper\" because of \"BSONError\"","timestamp":"2025-06-20T02:56:40.392Z"}
{"level":"error","message":"Error using coupon: Order validation failed: user: Cast to ObjectId failed for value \"USER_ID_SAMPLE\" (type string) at path \"user\" because of \"BSONError\", shipping.shipper: Cast to ObjectId failed for value \"683c321031386e28d0e4e865\\n\" (type string) at path \"shipping.shipper\" because of \"BSONError\"","timestamp":"2025-06-20T02:59:01.992Z"}
{"level":"error","message":"Error using coupon: Order validation failed: user: Cast to ObjectId failed for value \"USER_ID_SAMPLE\" (type string) at path \"user\" because of \"BSONError\", shipping.shipper: Cast to ObjectId failed for value \"683c321031386e28d0e4e865\\n\" (type string) at path \"shipping.shipper\" because of \"BSONError\"","timestamp":"2025-06-20T02:59:05.630Z"}
{"level":"error","message":"Error using coupon: Order validation failed: user: Cast to ObjectId failed for value \"USER_ID_SAMPLE\" (type string) at path \"user\" because of \"BSONError\", shipping.shipper: Cast to ObjectId failed for value \"683c321031386e28d0e4e865\\n\" (type string) at path \"shipping.shipper\" because of \"BSONError\"","timestamp":"2025-06-20T02:59:16.229Z"}
{"level":"error","message":"Error using coupon: Order validation failed: user: Cast to ObjectId failed for value \"USER_ID_SAMPLE\" (type string) at path \"user\" because of \"BSONError\", shipping.shipper: Cast to ObjectId failed for value \"683c321031386e28d0e4e865\\n\" (type string) at path \"shipping.shipper\" because of \"BSONError\"","timestamp":"2025-06-20T03:00:18.608Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'length')","timestamp":"2025-06-20T03:04:36.113Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'length')","timestamp":"2025-06-20T03:05:19.760Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'length')","timestamp":"2025-06-20T03:07:30.890Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'length')","timestamp":"2025-06-20T03:10:44.298Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'length')","timestamp":"2025-06-20T03:13:20.212Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'length')","timestamp":"2025-06-20T03:17:46.180Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'length')","timestamp":"2025-06-20T03:18:13.651Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'length')","timestamp":"2025-06-20T03:19:14.316Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'length')","timestamp":"2025-06-20T03:20:05.568Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'length')","timestamp":"2025-06-20T03:20:14.441Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'includes')","timestamp":"2025-06-20T03:20:59.695Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'includes')","timestamp":"2025-06-20T03:21:31.693Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'length')","timestamp":"2025-06-20T03:21:48.507Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'length')","timestamp":"2025-06-20T03:22:12.263Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'length')","timestamp":"2025-06-20T03:22:16.541Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'includes')","timestamp":"2025-06-20T03:29:33.718Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'includes')","timestamp":"2025-06-20T03:30:02.541Z"}
{"level":"error","message":"Error using coupon: Cannot read properties of undefined (reading 'length')","timestamp":"2025-06-20T03:31:29.025Z"}
