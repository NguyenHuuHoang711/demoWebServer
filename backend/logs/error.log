{"code":8000,"codeName":"AtlasError","connectionGeneration":0,"errorLabelSet":{},"errorResponse":{"code":8000,"codeName":"AtlasError","errmsg":"bad auth : Authentication failed.","ok":0},"level":"error","message":"MongoDB connection error bad auth : Authentication failed.","ok":0,"stack":"MongoServerError: bad auth : Authentication failed.\n    at Connection.sendCommand (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb/lib/cmap/connection.js:299:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb/lib/cmap/connection.js:327:26)\n    at async executeScram (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb/lib/cmap/auth/scram.js:79:22)\n    at async ScramSHA256.auth (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb/lib/cmap/auth/scram.js:39:16)\n    at async performInitialHandshake (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb/lib/cmap/connect.js:104:13)\n    at async connect (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb/lib/cmap/connect.js:24:9)","timestamp":"2025-05-31T05:54:17.761Z"}
{"code":8000,"codeName":"AtlasError","connectionGeneration":0,"errorLabelSet":{},"errorResponse":{"code":8000,"codeName":"AtlasError","errmsg":"bad auth : authentication failed","ok":0},"level":"error","message":"MongoDB connection error bad auth : authentication failed","ok":0,"stack":"MongoServerError: bad auth : authentication failed\n    at Connection.sendCommand (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb/lib/cmap/connection.js:299:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb/lib/cmap/connection.js:327:26)\n    at async continueScramConversation (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb/lib/cmap/auth/scram.js:131:15)\n    at async executeScram (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb/lib/cmap/auth/scram.js:80:5)\n    at async ScramSHA1.auth (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb/lib/cmap/auth/scram.js:39:16)\n    at async performInitialHandshake (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb/lib/cmap/connect.js:104:13)\n    at async connect (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb/lib/cmap/connect.js:24:9)","timestamp":"2025-05-31T05:56:29.763Z"}
{"level":"error","message":"MongoDB connection error mongodb+srv URI cannot have port number","stack":"MongoParseError: mongodb+srv URI cannot have port number\n    at new ConnectionString (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb-connection-string-url/lib/index.js:146:23)\n    at parseOptions (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb/lib/connection_string.js:203:17)\n    at new MongoClient (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb/lib/mongo_client.js:52:61)\n    at NativeConnection.createClient (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:343:14)\n    at NativeConnection.openUri (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongoose/lib/connection.js:1071:34)\n    at Mongoose.connect (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongoose/lib/mongoose.js:450:15)\n    at connectMongoDB (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/src/config/mongodbConfig.js:9:24)\n    at Object.<anonymous> (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/src/server.js:18:1)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)","timestamp":"2025-05-31T05:58:49.783Z"}
{"level":"error","message":"MongoDB connection error mongodb+srv URI cannot have port number","stack":"MongoParseError: mongodb+srv URI cannot have port number\n    at new ConnectionString (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb-connection-string-url/lib/index.js:146:23)\n    at parseOptions (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb/lib/connection_string.js:203:17)\n    at new MongoClient (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongodb/lib/mongo_client.js:52:61)\n    at NativeConnection.createClient (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:343:14)\n    at NativeConnection.openUri (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongoose/lib/connection.js:1071:34)\n    at Mongoose.connect (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongoose/lib/mongoose.js:450:15)\n    at connectMongoDB (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/src/config/mongodbConfig.js:9:24)\n    at Object.<anonymous> (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/src/server.js:18:1)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)","timestamp":"2025-05-31T06:00:13.070Z"}
{"level":"error","message":"TypeError: rateLimit.consume is not a function\n    at /home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/src/server.js:35:13\n    at Layer.handleRequest (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/router/index.js:342:13)\n    at /home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/router/index.js:297:9\n    at processParams (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/router/index.js:582:12)\n    at next (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/router/index.js:291:5)\n    at /home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/src/server.js:30:3\n    at Layer.handleRequest (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/router/index.js:342:13)\n    at /home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/router/index.js:297:9","timestamp":"2025-05-31T07:35:40.730Z"}
{"level":"error","message":"Error creating user: this.isModified is not a function","timestamp":"2025-05-31T08:23:33.201Z"}
{"level":"error","message":"Error fetching user: Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"User\"","timestamp":"2025-05-31T08:28:57.447Z"}
{"level":"error","message":"Error fetching user: Cast to ObjectId failed for value \"0\" (type string) at path \"_id\" for model \"User\"","timestamp":"2025-05-31T08:29:03.541Z"}
{"cause":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":30,"maxElectionId":null,"maxSetVersion":null,"servers":{"cluster0-shard-00-00.1ya4y.mongodb.net:27017":{"$clusterTime":{"clusterTime":{"$timestamp":{"i":52,"t":1748682934}},"signature":{"hash":{"0":122,"1":132,"10":253,"11":15,"12":190,"13":152,"14":19,"15":245,"16":79,"17":91,"18":18,"19":56,"2":80,"3":45,"4":229,"5":89,"6":30,"7":1,"8":9,"9":88},"keyId":7449639273336144000}},"address":"cluster0-shard-00-00.1ya4y.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":["cluster0-shard-00-00.1ya4y.mongodb.net:27017","cluster0-shard-00-01.1ya4y.mongodb.net:27017","cluster0-shard-00-02.1ya4y.mongodb.net:27017"],"iscryptd":false,"lastUpdateTime":27560721,"lastWriteDate":{"$date":"2025-05-31T09:15:34Z"},"logicalSessionTimeoutMinutes":30,"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWireVersion":25,"maxWriteBatchSize":100000,"me":"cluster0-shard-00-00.1ya4y.mongodb.net:27017","minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":"cluster0-shard-00-01.1ya4y.mongodb.net:27017","roundTripTime":57,"setName":"atlas-6lqfv6-shard-0","setVersion":130,"tags":{"availabilityZone":"apse1-az2","diskState":"READY","nodeType":"ELECTABLE","provider":"AWS","region":"AP_SOUTHEAST_1","workloadType":"OPERATIONAL"},"topologyVersion":{"counter":4,"processId":{"$oid":"682e18e3dbd8846f30f7df33"}},"type":"RSSecondary"},"cluster0-shard-00-01.1ya4y.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-01.1ya4y.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":27560402,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-02.1ya4y.mongodb.net:27017":{"$clusterTime":{"clusterTime":{"$timestamp":{"i":52,"t":1748682934}},"signature":{"hash":{"0":122,"1":132,"10":253,"11":15,"12":190,"13":152,"14":19,"15":245,"16":79,"17":91,"18":18,"19":56,"2":80,"3":45,"4":229,"5":89,"6":30,"7":1,"8":9,"9":88},"keyId":7449639273336144000}},"address":"cluster0-shard-00-02.1ya4y.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":["cluster0-shard-00-00.1ya4y.mongodb.net:27017","cluster0-shard-00-01.1ya4y.mongodb.net:27017","cluster0-shard-00-02.1ya4y.mongodb.net:27017"],"iscryptd":false,"lastUpdateTime":27560723,"lastWriteDate":{"$date":"2025-05-31T09:15:34Z"},"logicalSessionTimeoutMinutes":30,"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWireVersion":25,"maxWriteBatchSize":100000,"me":"cluster0-shard-00-02.1ya4y.mongodb.net:27017","minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":"cluster0-shard-00-01.1ya4y.mongodb.net:27017","roundTripTime":55,"setName":"atlas-6lqfv6-shard-0","setVersion":130,"tags":{"availabilityZone":"apse1-az3","diskState":"READY","nodeType":"ELECTABLE","provider":"AWS","region":"AP_SOUTHEAST_1","workloadType":"OPERATIONAL"},"topologyVersion":{"counter":3,"processId":{"$oid":"682e1e7e49529f180bb73f1f"}},"type":"RSSecondary"}},"setName":"atlas-6lqfv6-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"errorLabelSet":{},"level":"error","message":"Server selection timed out after 5000 ms","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":30,"maxElectionId":null,"maxSetVersion":null,"servers":{"cluster0-shard-00-00.1ya4y.mongodb.net:27017":{"$clusterTime":{"clusterTime":{"$timestamp":{"i":52,"t":1748682934}},"signature":{"hash":{"0":122,"1":132,"10":253,"11":15,"12":190,"13":152,"14":19,"15":245,"16":79,"17":91,"18":18,"19":56,"2":80,"3":45,"4":229,"5":89,"6":30,"7":1,"8":9,"9":88},"keyId":7449639273336144000}},"address":"cluster0-shard-00-00.1ya4y.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":["cluster0-shard-00-00.1ya4y.mongodb.net:27017","cluster0-shard-00-01.1ya4y.mongodb.net:27017","cluster0-shard-00-02.1ya4y.mongodb.net:27017"],"iscryptd":false,"lastUpdateTime":27560721,"lastWriteDate":{"$date":"2025-05-31T09:15:34Z"},"logicalSessionTimeoutMinutes":30,"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWireVersion":25,"maxWriteBatchSize":100000,"me":"cluster0-shard-00-00.1ya4y.mongodb.net:27017","minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":"cluster0-shard-00-01.1ya4y.mongodb.net:27017","roundTripTime":57,"setName":"atlas-6lqfv6-shard-0","setVersion":130,"tags":{"availabilityZone":"apse1-az2","diskState":"READY","nodeType":"ELECTABLE","provider":"AWS","region":"AP_SOUTHEAST_1","workloadType":"OPERATIONAL"},"topologyVersion":{"counter":4,"processId":{"$oid":"682e18e3dbd8846f30f7df33"}},"type":"RSSecondary"},"cluster0-shard-00-01.1ya4y.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-01.1ya4y.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":27560402,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-02.1ya4y.mongodb.net:27017":{"$clusterTime":{"clusterTime":{"$timestamp":{"i":52,"t":1748682934}},"signature":{"hash":{"0":122,"1":132,"10":253,"11":15,"12":190,"13":152,"14":19,"15":245,"16":79,"17":91,"18":18,"19":56,"2":80,"3":45,"4":229,"5":89,"6":30,"7":1,"8":9,"9":88},"keyId":7449639273336144000}},"address":"cluster0-shard-00-02.1ya4y.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":["cluster0-shard-00-00.1ya4y.mongodb.net:27017","cluster0-shard-00-01.1ya4y.mongodb.net:27017","cluster0-shard-00-02.1ya4y.mongodb.net:27017"],"iscryptd":false,"lastUpdateTime":27560723,"lastWriteDate":{"$date":"2025-05-31T09:15:34Z"},"logicalSessionTimeoutMinutes":30,"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWireVersion":25,"maxWriteBatchSize":100000,"me":"cluster0-shard-00-02.1ya4y.mongodb.net:27017","minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":"cluster0-shard-00-01.1ya4y.mongodb.net:27017","roundTripTime":55,"setName":"atlas-6lqfv6-shard-0","setVersion":130,"tags":{"availabilityZone":"apse1-az3","diskState":"READY","nodeType":"ELECTABLE","provider":"AWS","region":"AP_SOUTHEAST_1","workloadType":"OPERATIONAL"},"topologyVersion":{"counter":3,"processId":{"$oid":"682e1e7e49529f180bb73f1f"}},"type":"RSSecondary"}},"setName":"atlas-6lqfv6-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongoose/lib/connection.js:1165:11)\n    at NativeConnection.openUri (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongoose/lib/connection.js:1096:11)\n    at async connectMongoDB (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/src/config/mongodbConfig.js:9:9)","timestamp":"2025-05-31T09:15:39.526Z"}
{"level":"error","message":"ReferenceError: logger is not defined\n    at validateToken (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/src/middlewares/authMiddleware.js:7:9)\n    at Layer.handleRequest (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/router/index.js:342:13)\n    at /home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/router/index.js:297:9\n    at processParams (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/router/index.js:582:12)\n    at next (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/router/index.js:291:5)\n    at /home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/src/server.js:31:3\n    at Layer.handleRequest (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/router/index.js:342:13)\n    at /home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/router/index.js:297:9","timestamp":"2025-05-31T11:07:15.240Z"}
{"level":"error","message":"Er\n            ror during user login: pchstr must be a non-empty string","timestamp":"2025-05-31T11:23:10.243Z"}
{"level":"error","message":"Error during user login: pchstr must be a non-empty string","timestamp":"2025-05-31T11:26:51.353Z"}
{"level":"error","message":"Error during user login: pchstr must be a non-empty string","timestamp":"2025-05-31T11:27:32.860Z"}
{"level":"error","message":"Error during user login: pchstr must be a non-empty string","timestamp":"2025-05-31T11:27:56.535Z"}
{"level":"error","message":"Error during user login: pchstr must be a non-empty string","timestamp":"2025-05-31T11:28:16.309Z"}
{"level":"error","message":"Error during user login: pchstr must be a non-empty string","timestamp":"2025-05-31T11:29:02.593Z"}
{"level":"error","message":"Error during user login: expiresAt is not defined","timestamp":"2025-05-31T11:31:08.920Z"}
{"level":"error","message":"Error during user login: expiresAt is not defined","timestamp":"2025-05-31T11:33:14.266Z"}
{"cause":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":30,"maxElectionId":null,"maxSetVersion":null,"servers":{"cluster0-shard-00-00.1ya4y.mongodb.net:27017":{"$clusterTime":{"clusterTime":{"$timestamp":{"i":55,"t":1748691430}},"signature":{"hash":{"0":130,"1":68,"10":144,"11":255,"12":56,"13":45,"14":203,"15":55,"16":106,"17":32,"18":197,"19":144,"2":152,"3":74,"4":90,"5":16,"6":181,"7":170,"8":74,"9":241},"keyId":7449639273336144000}},"address":"cluster0-shard-00-00.1ya4y.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":["cluster0-shard-00-00.1ya4y.mongodb.net:27017","cluster0-shard-00-01.1ya4y.mongodb.net:27017","cluster0-shard-00-02.1ya4y.mongodb.net:27017"],"iscryptd":false,"lastUpdateTime":36056769,"lastWriteDate":{"$date":"2025-05-31T11:37:10Z"},"logicalSessionTimeoutMinutes":30,"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWireVersion":25,"maxWriteBatchSize":100000,"me":"cluster0-shard-00-00.1ya4y.mongodb.net:27017","minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":"cluster0-shard-00-01.1ya4y.mongodb.net:27017","roundTripTime":58,"setName":"atlas-6lqfv6-shard-0","setVersion":130,"tags":{"availabilityZone":"apse1-az2","diskState":"READY","nodeType":"ELECTABLE","provider":"AWS","region":"AP_SOUTHEAST_1","workloadType":"OPERATIONAL"},"topologyVersion":{"counter":4,"processId":{"$oid":"682e18e3dbd8846f30f7df33"}},"type":"RSSecondary"},"cluster0-shard-00-01.1ya4y.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-01.1ya4y.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":36056435,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-02.1ya4y.mongodb.net:27017":{"$clusterTime":{"clusterTime":{"$timestamp":{"i":51,"t":1748691430}},"signature":{"hash":{"0":130,"1":68,"10":144,"11":255,"12":56,"13":45,"14":203,"15":55,"16":106,"17":32,"18":197,"19":144,"2":152,"3":74,"4":90,"5":16,"6":181,"7":170,"8":74,"9":241},"keyId":7449639273336144000}},"address":"cluster0-shard-00-02.1ya4y.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":["cluster0-shard-00-00.1ya4y.mongodb.net:27017","cluster0-shard-00-01.1ya4y.mongodb.net:27017","cluster0-shard-00-02.1ya4y.mongodb.net:27017"],"iscryptd":false,"lastUpdateTime":36056724,"lastWriteDate":{"$date":"2025-05-31T11:37:10Z"},"logicalSessionTimeoutMinutes":30,"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWireVersion":25,"maxWriteBatchSize":100000,"me":"cluster0-shard-00-02.1ya4y.mongodb.net:27017","minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":"cluster0-shard-00-01.1ya4y.mongodb.net:27017","roundTripTime":49,"setName":"atlas-6lqfv6-shard-0","setVersion":130,"tags":{"availabilityZone":"apse1-az3","diskState":"READY","nodeType":"ELECTABLE","provider":"AWS","region":"AP_SOUTHEAST_1","workloadType":"OPERATIONAL"},"topologyVersion":{"counter":3,"processId":{"$oid":"682e1e7e49529f180bb73f1f"}},"type":"RSSecondary"}},"setName":"atlas-6lqfv6-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"errorLabelSet":{},"level":"error","message":"Server selection timed out after 5000 ms","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":30,"maxElectionId":null,"maxSetVersion":null,"servers":{"cluster0-shard-00-00.1ya4y.mongodb.net:27017":{"$clusterTime":{"clusterTime":{"$timestamp":{"i":55,"t":1748691430}},"signature":{"hash":{"0":130,"1":68,"10":144,"11":255,"12":56,"13":45,"14":203,"15":55,"16":106,"17":32,"18":197,"19":144,"2":152,"3":74,"4":90,"5":16,"6":181,"7":170,"8":74,"9":241},"keyId":7449639273336144000}},"address":"cluster0-shard-00-00.1ya4y.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":["cluster0-shard-00-00.1ya4y.mongodb.net:27017","cluster0-shard-00-01.1ya4y.mongodb.net:27017","cluster0-shard-00-02.1ya4y.mongodb.net:27017"],"iscryptd":false,"lastUpdateTime":36056769,"lastWriteDate":{"$date":"2025-05-31T11:37:10Z"},"logicalSessionTimeoutMinutes":30,"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWireVersion":25,"maxWriteBatchSize":100000,"me":"cluster0-shard-00-00.1ya4y.mongodb.net:27017","minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":"cluster0-shard-00-01.1ya4y.mongodb.net:27017","roundTripTime":58,"setName":"atlas-6lqfv6-shard-0","setVersion":130,"tags":{"availabilityZone":"apse1-az2","diskState":"READY","nodeType":"ELECTABLE","provider":"AWS","region":"AP_SOUTHEAST_1","workloadType":"OPERATIONAL"},"topologyVersion":{"counter":4,"processId":{"$oid":"682e18e3dbd8846f30f7df33"}},"type":"RSSecondary"},"cluster0-shard-00-01.1ya4y.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-01.1ya4y.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":[],"iscryptd":false,"lastUpdateTime":36056435,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-02.1ya4y.mongodb.net:27017":{"$clusterTime":{"clusterTime":{"$timestamp":{"i":51,"t":1748691430}},"signature":{"hash":{"0":130,"1":68,"10":144,"11":255,"12":56,"13":45,"14":203,"15":55,"16":106,"17":32,"18":197,"19":144,"2":152,"3":74,"4":90,"5":16,"6":181,"7":170,"8":74,"9":241},"keyId":7449639273336144000}},"address":"cluster0-shard-00-02.1ya4y.mongodb.net:27017","arbiters":[],"electionId":null,"error":null,"hosts":["cluster0-shard-00-00.1ya4y.mongodb.net:27017","cluster0-shard-00-01.1ya4y.mongodb.net:27017","cluster0-shard-00-02.1ya4y.mongodb.net:27017"],"iscryptd":false,"lastUpdateTime":36056724,"lastWriteDate":{"$date":"2025-05-31T11:37:10Z"},"logicalSessionTimeoutMinutes":30,"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWireVersion":25,"maxWriteBatchSize":100000,"me":"cluster0-shard-00-02.1ya4y.mongodb.net:27017","minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":"cluster0-shard-00-01.1ya4y.mongodb.net:27017","roundTripTime":49,"setName":"atlas-6lqfv6-shard-0","setVersion":130,"tags":{"availabilityZone":"apse1-az3","diskState":"READY","nodeType":"ELECTABLE","provider":"AWS","region":"AP_SOUTHEAST_1","workloadType":"OPERATIONAL"},"topologyVersion":{"counter":3,"processId":{"$oid":"682e1e7e49529f180bb73f1f"}},"type":"RSSecondary"}},"setName":"atlas-6lqfv6-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongoose/lib/connection.js:1165:11)\n    at NativeConnection.openUri (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/node_modules/mongoose/lib/connection.js:1096:11)\n    at async connectMongoDB (/home/dell/Documents/Kiến tập/project/source/WebDoLuuNiem/backend/src/config/mongodbConfig.js:9:9)","timestamp":"2025-05-31T11:37:15.524Z"}
{"level":"error","message":"Error during user login: expiresAt is not defined","timestamp":"2025-05-31T11:38:28.362Z"}
{"level":"error","message":"Error during user login: expiresIn is not defined","timestamp":"2025-05-31T11:39:19.680Z"}
{"level":"error","message":"Error during user login: refresh_token validation failed: access_token: Path `access_token` is required.","timestamp":"2025-05-31T11:40:35.389Z"}
{"level":"error","message":"Error during user registration: Cannot read properties of undefined (reading '_id')","timestamp":"2025-05-31T11:53:05.321Z"}
{"level":"error","message":"Error during user registration: refresh_token validation failed: access_token: Path `access_token` is required.","timestamp":"2025-05-31T11:55:43.759Z"}
{"level":"error","message":"Error during user registration: refresh_token validation failed: access_token: Path `access_token` is required.","timestamp":"2025-05-31T11:57:14.232Z"}
{"level":"error","message":"Error during user registration: refresh_token validation failed: access_token: Path `access_token` is required.","timestamp":"2025-05-31T11:59:18.781Z"}
